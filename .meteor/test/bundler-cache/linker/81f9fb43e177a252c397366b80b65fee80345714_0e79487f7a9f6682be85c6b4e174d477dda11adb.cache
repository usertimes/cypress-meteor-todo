[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\nDDP = Package['ddp-client'].DDP;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nmeteorInstall = Package.modules.meteorInstall;\nmeteorBabelHelpers = Package.modules.meteorBabelHelpers;\nPromise = Package.promise.Promise;\nAccounts = Package['accounts-base'].Accounts;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\nSymbol = Package['ecmascript-runtime-client'].Symbol;\nMap = Package['ecmascript-runtime-client'].Map;\nSet = Package['ecmascript-runtime-client'].Set;\n\n","servePath":"/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"imports\":{\"db\":{\"TasksCollection.js\":function module(require,exports,module){\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                            //\n// imports/db/TasksCollection.js                                                                              //\n//                                                                                                            //\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                              //\nmodule.export({\n  TasksCollection: function () {\n    return TasksCollection;\n  }\n});\nvar Mongo;\nmodule.link(\"meteor/mongo\", {\n  Mongo: function (v) {\n    Mongo = v;\n  }\n}, 0);\nvar TasksCollection = new Mongo.Collection('tasks');\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"ui\":{\"App.js\":function module(require,exports,module){\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                            //\n// imports/ui/App.js                                                                                          //\n//                                                                                                            //\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                              //\nvar _objectSpread;\n\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 0);\n\nvar _slicedToArray;\n\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 1);\nmodule.export({\n  App: function () {\n    return App;\n  }\n});\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\nvar React, useState, Fragment;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useState: function (v) {\n    useState = v;\n  },\n  Fragment: function (v) {\n    Fragment = v;\n  }\n}, 1);\nvar useTracker;\nmodule.link(\"meteor/react-meteor-data\", {\n  useTracker: function (v) {\n    useTracker = v;\n  }\n}, 2);\nvar TasksCollection;\nmodule.link(\"/imports/db/TasksCollection\", {\n  TasksCollection: function (v) {\n    TasksCollection = v;\n  }\n}, 3);\nvar Task;\nmodule.link(\"./Task\", {\n  Task: function (v) {\n    Task = v;\n  }\n}, 4);\nvar TaskForm;\nmodule.link(\"./TaskForm\", {\n  TaskForm: function (v) {\n    TaskForm = v;\n  }\n}, 5);\nvar LoginForm;\nmodule.link(\"./LoginForm\", {\n  LoginForm: function (v) {\n    LoginForm = v;\n  }\n}, 6);\n\nvar toggleChecked = function (_ref) {\n  var _id = _ref._id,\n      isChecked = _ref.isChecked;\n  return Meteor.call('tasks.setIsChecked', _id, !isChecked);\n};\n\nvar deleteTask = function (_ref2) {\n  var _id = _ref2._id;\n  return Meteor.call('tasks.remove', _id);\n};\n\nvar App = function () {\n  var user = useTracker(function () {\n    return Meteor.user();\n  });\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      hideCompleted = _useState2[0],\n      setHideCompleted = _useState2[1];\n\n  var hideCompletedFilter = {\n    isChecked: {\n      $ne: true\n    }\n  };\n  var userFilter = user ? {\n    userId: user._id\n  } : {};\n\n  var pendingOnlyFilter = _objectSpread(_objectSpread({}, hideCompletedFilter), userFilter);\n\n  var _useTracker = useTracker(function () {\n    var noDataAvailable = {\n      tasks: [],\n      pendingTasksCount: 0\n    };\n\n    if (!Meteor.user()) {\n      return noDataAvailable;\n    }\n\n    var handler = Meteor.subscribe('tasks');\n\n    if (!handler.ready()) {\n      return _objectSpread(_objectSpread({}, noDataAvailable), {}, {\n        isLoading: true\n      });\n    }\n\n    var tasks = TasksCollection.find(hideCompleted ? pendingOnlyFilter : userFilter, {\n      sort: {\n        createdAt: -1\n      }\n    }).fetch();\n    var pendingTasksCount = TasksCollection.find(pendingOnlyFilter).count();\n    return {\n      tasks: tasks,\n      pendingTasksCount: pendingTasksCount\n    };\n  }),\n      tasks = _useTracker.tasks,\n      pendingTasksCount = _useTracker.pendingTasksCount,\n      isLoading = _useTracker.isLoading;\n\n  var pendingTasksTitle = \"\" + (pendingTasksCount ? \" (\" + pendingTasksCount + \")\" : '');\n\n  var logout = function () {\n    return Meteor.logout();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app\"\n  }, /*#__PURE__*/React.createElement(\"header\", null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app-bar\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app-header\"\n  }, /*#__PURE__*/React.createElement(\"h1\", null, \"\\uD83D\\uDCDD\\uFE0F To Do List\", pendingTasksTitle)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main\"\n  }, user ? /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user\",\n    onClick: logout\n  }, user.username, \" \\uD83D\\uDEAA\"), /*#__PURE__*/React.createElement(TaskForm, null), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter\"\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function () {\n      return setHideCompleted(!hideCompleted);\n    }\n  }, hideCompleted ? 'Show All' : 'Hide Completed')), isLoading && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loading\"\n  }, \"loading...\"), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"tasks\"\n  }, tasks.map(function (task) {\n    return /*#__PURE__*/React.createElement(Task, {\n      key: task._id,\n      task: task,\n      onCheckboxClick: toggleChecked,\n      onDeleteClick: deleteTask\n    });\n  }))) : /*#__PURE__*/React.createElement(LoginForm, null)));\n};\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"LoginForm.js\":function module(require,exports,module){\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                            //\n// imports/ui/LoginForm.js                                                                                    //\n//                                                                                                            //\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                              //\nvar _extends;\n\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default: function (v) {\n    _extends = v;\n  }\n}, 0);\n\nvar _slicedToArray;\n\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 1);\nmodule.export({\n  LoginForm: function () {\n    return LoginForm;\n  }\n});\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\nvar React, useState;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useState: function (v) {\n    useState = v;\n  }\n}, 1);\nvar LOGIN_BUTTON, testProp;\nmodule.link(\"../testIds\", {\n  LOGIN_BUTTON: function (v) {\n    LOGIN_BUTTON = v;\n  },\n  testProp: function (v) {\n    testProp = v;\n  }\n}, 2);\n\nvar LoginForm = function () {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var submit = function (e) {\n    e.preventDefault();\n    Meteor.loginWithPassword(username, password);\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: submit,\n    className: \"login-form\"\n  }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"username\"\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Username\",\n    name: \"username\",\n    required: true,\n    onChange: function (e) {\n      return setUsername(e.target.value);\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\"\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Password\",\n    name: \"password\",\n    required: true,\n    onChange: function (e) {\n      return setPassword(e.target.value);\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"button\", _extends({\n    type: \"submit\"\n  }, testProp(LOGIN_BUTTON)), \"Log In\")));\n};\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Task.js\":function module(require,exports,module){\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                            //\n// imports/ui/Task.js                                                                                         //\n//                                                                                                            //\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                              //\nmodule.export({\n  Task: function () {\n    return Task;\n  }\n});\nvar React;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  }\n}, 0);\n\nvar Task = function (_ref) {\n  var task = _ref.task,\n      onCheckboxClick = _ref.onCheckboxClick,\n      onDeleteClick = _ref.onDeleteClick;\n  return /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    checked: !!task.isChecked,\n    onClick: function () {\n      return onCheckboxClick(task);\n    },\n    readOnly: true\n  }), /*#__PURE__*/React.createElement(\"span\", null, task.text), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function () {\n      return onDeleteClick(task);\n    }\n  }, \"\\xD7\"));\n};\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"TaskForm.js\":function module(require,exports,module){\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                            //\n// imports/ui/TaskForm.js                                                                                     //\n//                                                                                                            //\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                              //\nvar _slicedToArray;\n\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 0);\nmodule.export({\n  TaskForm: function () {\n    return TaskForm;\n  }\n});\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\nvar React, useState;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useState: function (v) {\n    useState = v;\n  }\n}, 1);\n\nvar TaskForm = function () {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      text = _useState2[0],\n      setText = _useState2[1];\n\n  var handleSubmit = function (e) {\n    e.preventDefault();\n    if (!text) return;\n    Meteor.call('tasks.insert', text);\n    setText('');\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    className: \"task-form\",\n    onSubmit: handleSubmit\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Type to add new tasks\",\n    value: text,\n    onChange: function (e) {\n      return setText(e.target.value);\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\"\n  }, \"Add Task\"));\n};\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"testIds.js\":function module(require,exports,module){\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                            //\n// imports/testIds.js                                                                                         //\n//                                                                                                            //\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                              //\nmodule.export({\n  LOGIN_BUTTON: function () {\n    return LOGIN_BUTTON;\n  },\n  testProp: function () {\n    return testProp;\n  }\n});\nvar LOGIN_BUTTON = 'LOGIN_BUTTON';\n\nvar testProp = function (id) {\n  return {\n    'data-test-id': id\n  };\n};\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"client\":{\"main.js\":function module(require,exports,module){\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                            //\n// client/main.js                                                                                             //\n//                                                                                                            //\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                              //\nvar React;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  }\n}, 0);\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 1);\nvar render;\nmodule.link(\"react-dom\", {\n  render: function (v) {\n    render = v;\n  }\n}, 2);\nvar App;\nmodule.link(\"/imports/ui/App\", {\n  App: function (v) {\n    App = v;\n  }\n}, 3);\nMeteor.startup(function () {\n  render( /*#__PURE__*/React.createElement(App, null), document.getElementById('react-target'));\n});\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},{\n  \"extensions\": [\n    \".js\",\n    \".json\",\n    \".html\",\n    \".ts\",\n    \".mjs\",\n    \".css\"\n  ]\n});\n\nvar exports = require(\"/client/main.js\");","hash":"400b226c7f76a4d27fa79498bc8e7a4930bcb9fc","servePath":"/app.js","sourceMap":{"version":3,"sources":["imports/db/TasksCollection.js","imports/ui/App.js","imports/ui/LoginForm.js","imports/ui/Task.js","imports/ui/TaskForm.js","imports/testIds.js","client/main.js"],"names":["module","export","TasksCollection","Mongo","link","v","Collection","_objectSpread","default","_slicedToArray","App","Meteor","React","useState","Fragment","useTracker","Task","TaskForm","LoginForm","toggleChecked","_id","isChecked","call","deleteTask","user","hideCompleted","setHideCompleted","hideCompletedFilter","$ne","userFilter","userId","pendingOnlyFilter","noDataAvailable","tasks","pendingTasksCount","handler","subscribe","ready","isLoading","find","sort","createdAt","fetch","count","pendingTasksTitle","logout","username","map","task","_extends","LOGIN_BUTTON","testProp","setUsername","password","setPassword","submit","e","preventDefault","loginWithPassword","target","value","onCheckboxClick","onDeleteClick","text","setText","handleSubmit","id","render","startup","document","getElementById"],"mappings":"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","file":"/app.js","sourcesContent":["import { Mongo } from 'meteor/mongo';\n\nexport const TasksCollection = new Mongo.Collection('tasks');\n","import { Meteor } from 'meteor/meteor';\nimport React, { useState, Fragment } from 'react';\nimport { useTracker } from 'meteor/react-meteor-data';\nimport { TasksCollection } from '/imports/db/TasksCollection';\nimport { Task } from './Task';\nimport { TaskForm } from './TaskForm';\nimport { LoginForm } from './LoginForm';\n\nconst toggleChecked = ({ _id, isChecked }) =>\n  Meteor.call('tasks.setIsChecked', _id, !isChecked);\n\nconst deleteTask = ({ _id }) => Meteor.call('tasks.remove', _id);\n\nexport const App = () => {\n  const user = useTracker(() => Meteor.user());\n\n  const [hideCompleted, setHideCompleted] = useState(false);\n\n  const hideCompletedFilter = { isChecked: { $ne: true } };\n\n  const userFilter = user ? { userId: user._id } : {};\n\n  const pendingOnlyFilter = { ...hideCompletedFilter, ...userFilter };\n\n  const { tasks, pendingTasksCount, isLoading } = useTracker(() => {\n    const noDataAvailable = { tasks: [], pendingTasksCount: 0 };\n    if (!Meteor.user()) {\n      return noDataAvailable;\n    }\n    const handler = Meteor.subscribe('tasks');\n\n    if (!handler.ready()) {\n      return { ...noDataAvailable, isLoading: true };\n    }\n\n    const tasks = TasksCollection.find(\n      hideCompleted ? pendingOnlyFilter : userFilter,\n      {\n        sort: { createdAt: -1 },\n      }\n    ).fetch();\n    const pendingTasksCount = TasksCollection.find(pendingOnlyFilter).count();\n\n    return { tasks, pendingTasksCount };\n  });\n\n  const pendingTasksTitle = `${\n    pendingTasksCount ? ` (${pendingTasksCount})` : ''\n  }`;\n\n  const logout = () => Meteor.logout();\n\n  return (\n    <div className=\"app\">\n      <header>\n        <div className=\"app-bar\">\n          <div className=\"app-header\">\n            <h1>\n              ğŸ“ï¸ To Do List\n              {pendingTasksTitle}\n            </h1>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"main\">\n        {user ? (\n          <Fragment>\n            <div className=\"user\" onClick={logout}>\n              {user.username} ğŸšª\n            </div>\n\n            <TaskForm />\n\n            <div className=\"filter\">\n              <button onClick={() => setHideCompleted(!hideCompleted)}>\n                {hideCompleted ? 'Show All' : 'Hide Completed'}\n              </button>\n            </div>\n\n            {isLoading && <div className=\"loading\">loading...</div>}\n\n            <ul className=\"tasks\">\n              {tasks.map(task => (\n                <Task\n                  key={task._id}\n                  task={task}\n                  onCheckboxClick={toggleChecked}\n                  onDeleteClick={deleteTask}\n                />\n              ))}\n            </ul>\n          </Fragment>\n        ) : (\n          <LoginForm />\n        )}\n      </div>\n    </div>\n  );\n};\n","import { Meteor } from 'meteor/meteor';\nimport React, { useState } from 'react';\nimport { LOGIN_BUTTON, testProp } from '../testIds';\n\nexport const LoginForm = () => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  const submit = (e) => {\n    e.preventDefault();\n\n    Meteor.loginWithPassword(username, password);\n  };\n\n  return (\n    <form onSubmit={submit} className=\"login-form\">\n      <div>\n        <label htmlFor=\"username\">Username</label>\n        <input\n          type=\"text\"\n          placeholder=\"Username\"\n          name=\"username\"\n          required\n          onChange={(e) => setUsername(e.target.value)}\n        />\n      </div>\n\n      <div>\n        <label htmlFor=\"password\">Password</label>\n\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          name=\"password\"\n          required\n          onChange={(e) => setPassword(e.target.value)}\n        />\n      </div>\n      <div>\n        <button type=\"submit\" {...testProp(LOGIN_BUTTON)}>\n          Log In\n        </button>\n      </div>\n    </form>\n  );\n};\n","import React from 'react';\n\nexport const Task = ({ task, onCheckboxClick, onDeleteClick }) => {\n  return (\n    <li>\n      <input\n        type=\"checkbox\"\n        checked={!!task.isChecked}\n        onClick={() => onCheckboxClick(task)}\n        readOnly\n      />\n      <span>{task.text}</span>\n      <button onClick={() => onDeleteClick(task)}>&times;</button>\n    </li>\n  );\n};\n","import { Meteor } from 'meteor/meteor';\nimport React, { useState } from 'react';\n\nexport const TaskForm = () => {\n  const [text, setText] = useState('');\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (!text) return;\n\n    Meteor.call('tasks.insert', text);\n\n    setText('');\n  };\n\n  return (\n    <form className=\"task-form\" onSubmit={handleSubmit}>\n      <input\n        type=\"text\"\n        placeholder=\"Type to add new tasks\"\n        value={text}\n        onChange={e => setText(e.target.value)}\n      />\n\n      <button type=\"submit\">Add Task</button>\n    </form>\n  );\n};\n","export const LOGIN_BUTTON = 'LOGIN_BUTTON';\n\n// Helper function to select elements.\nexport const testProp = (id) => ({ 'data-test-id': id });\n","import React from 'react';\nimport { Meteor } from 'meteor/meteor';\nimport { render } from 'react-dom';\nimport { App } from '/imports/ui/App';\n\nMeteor.startup(() => {\n  render(<App />, document.getElementById('react-target'));\n});\n"]}}]