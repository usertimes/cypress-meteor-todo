{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/idrismahjoubi/cypress-meteor-react/imports/ui/App.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"imports/ui/App.js","filename":"/Users/idrismahjoubi/cypress-meteor-react/imports/ui/App.js","inputSourceMap":{"version":3,"sources":["imports/ui/App.js"],"names":["Meteor","React","useState","Fragment","useTracker","TasksCollection","Task","TaskForm","LoginForm","testProp","COUNTER","toggleChecked","_id","isChecked","call","deleteTask","App","user","hideCompleted","setHideCompleted","hideCompletedFilter","$ne","userFilter","userId","pendingOnlyFilter","tasks","pendingTasksCount","isLoading","noDataAvailable","handler","subscribe","ready","find","sort","createdAt","fetch","count","pendingTasksTitle","logout","username","map","task"],"mappings":"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","sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport React, { useState, Fragment } from 'react';\nimport { useTracker } from 'meteor/react-meteor-data';\nimport { TasksCollection } from '/imports/db/TasksCollection';\nimport { Task } from './Task';\nimport { TaskForm } from './TaskForm';\nimport { LoginForm } from './LoginForm';\nimport { testProp,COUNTER } from '../testIds';\n\nconst toggleChecked = ({ _id, isChecked }) =>\n  Meteor.call('tasks.setIsChecked', _id, !isChecked);\n\nconst deleteTask = ({ _id }) => Meteor.call('tasks.remove', _id);\n\nexport const App = () => {\n  const user = useTracker(() => Meteor.user());\n\n  const [hideCompleted, setHideCompleted] = useState(false);\n\n  const hideCompletedFilter = { isChecked: { $ne: true } };\n\n  const userFilter = user ? { userId: user._id } : {};\n\n  const pendingOnlyFilter = { ...hideCompletedFilter, ...userFilter };\n\n  const { tasks, pendingTasksCount, isLoading } = useTracker(() => {\n    const noDataAvailable = { tasks: [], pendingTasksCount: 0 };\n    if (!Meteor.user()) {\n      return noDataAvailable;\n    }\n    const handler = Meteor.subscribe('tasks');\n\n    if (!handler.ready()) {\n      return { ...noDataAvailable, isLoading: true };\n    }\n\n    const tasks = TasksCollection.find(\n      hideCompleted ? pendingOnlyFilter : userFilter,\n      {\n        sort: { createdAt: -1 },\n      }\n    ).fetch();\n    const pendingTasksCount = TasksCollection.find(pendingOnlyFilter).count();\n\n    return { tasks, pendingTasksCount };\n  });\n\n  const pendingTasksTitle = `${\n    pendingTasksCount ? ` (${pendingTasksCount})` : ''\n  }`;\n\n  const logout = () => Meteor.logout();\n\n  return (\n    <div className=\"app\">\n      <header>\n        <div className=\"app-bar\">\n          <div className=\"app-header\">\n            <h1>\n              ğŸ“ï¸ To Do List\n              <span {...testProp(COUNTER)}> {pendingTasksTitle} </span>\n            </h1>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"main\">\n        {user ? (\n          <Fragment>\n            <div className=\"user\" onClick={logout}>\n              {user.username} ğŸšª\n            </div>\n\n            <TaskForm />\n\n            <div className=\"filter\">\n              <button onClick={() => setHideCompleted(!hideCompleted)}>\n                {hideCompleted ? 'Show All' : 'Hide Completed'}\n              </button>\n            </div>\n\n            {isLoading && <div className=\"loading\">loading...</div>}\n\n            <ul className=\"tasks\">\n              {tasks.map((task) => (\n                <Task\n                  key={task._id}\n                  task={task}\n                  onCheckboxClick={toggleChecked}\n                  onDeleteClick={deleteTask}\n                />\n              ))}\n            </ul>\n          </Fragment>\n        ) : (\n          <LoginForm />\n        )}\n      </div>\n    </div>\n  );\n};\n"]},"targets":{},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"test","cwd":"/Users/idrismahjoubi/cypress-meteor-react","root":"/Users/idrismahjoubi/cypress-meteor-react","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.13.10","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":{},"_verified":{},"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/idrismahjoubi/cypress-meteor-react/imports/ui/App.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/ui/App.js"}},"code":"var _objectSpread;\n\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 0);\n\nvar _slicedToArray;\n\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 1);\nmodule.export({\n  App: function () {\n    return App;\n  }\n});\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\nvar React, useState, Fragment;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useState: function (v) {\n    useState = v;\n  },\n  Fragment: function (v) {\n    Fragment = v;\n  }\n}, 1);\nvar useTracker;\nmodule.link(\"meteor/react-meteor-data\", {\n  useTracker: function (v) {\n    useTracker = v;\n  }\n}, 2);\nvar TasksCollection;\nmodule.link(\"/imports/db/TasksCollection\", {\n  TasksCollection: function (v) {\n    TasksCollection = v;\n  }\n}, 3);\nvar Task;\nmodule.link(\"./Task\", {\n  Task: function (v) {\n    Task = v;\n  }\n}, 4);\nvar TaskForm;\nmodule.link(\"./TaskForm\", {\n  TaskForm: function (v) {\n    TaskForm = v;\n  }\n}, 5);\nvar LoginForm;\nmodule.link(\"./LoginForm\", {\n  LoginForm: function (v) {\n    LoginForm = v;\n  }\n}, 6);\nvar testProp, COUNTER;\nmodule.link(\"../testIds\", {\n  testProp: function (v) {\n    testProp = v;\n  },\n  COUNTER: function (v) {\n    COUNTER = v;\n  }\n}, 7);\n\nfunction cov_4oh2l4gaa() {\n  var path = \"/Users/idrismahjoubi/cypress-meteor-react/imports/ui/App.js\";\n  var hash = \"266607952ceb078c700123762b57b0b918f56a03\";\n  var global = new Function(\"return this\")();\n  var gcv = \"__coverage__\";\n  var coverageData = {\n    path: \"/Users/idrismahjoubi/cypress-meteor-react/imports/ui/App.js\",\n    statementMap: {\n      \"0\": {\n        start: {\n          line: 10,\n          column: 22\n        },\n        end: {\n          line: 11,\n          column: 52\n        }\n      },\n      \"1\": {\n        start: {\n          line: 11,\n          column: 2\n        },\n        end: {\n          line: 11,\n          column: 52\n        }\n      },\n      \"2\": {\n        start: {\n          line: 13,\n          column: 19\n        },\n        end: {\n          line: 13,\n          column: 64\n        }\n      },\n      \"3\": {\n        start: {\n          line: 13,\n          column: 32\n        },\n        end: {\n          line: 13,\n          column: 64\n        }\n      },\n      \"4\": {\n        start: {\n          line: 15,\n          column: 19\n        },\n        end: {\n          line: 101,\n          column: 1\n        }\n      },\n      \"5\": {\n        start: {\n          line: 16,\n          column: 15\n        },\n        end: {\n          line: 16,\n          column: 46\n        }\n      },\n      \"6\": {\n        start: {\n          line: 16,\n          column: 32\n        },\n        end: {\n          line: 16,\n          column: 45\n        }\n      },\n      \"7\": {\n        start: {\n          line: 18,\n          column: 44\n        },\n        end: {\n          line: 18,\n          column: 59\n        }\n      },\n      \"8\": {\n        start: {\n          line: 20,\n          column: 30\n        },\n        end: {\n          line: 20,\n          column: 58\n        }\n      },\n      \"9\": {\n        start: {\n          line: 22,\n          column: 21\n        },\n        end: {\n          line: 22,\n          column: 53\n        }\n      },\n      \"10\": {\n        start: {\n          line: 24,\n          column: 28\n        },\n        end: {\n          line: 24,\n          column: 69\n        }\n      },\n      \"11\": {\n        start: {\n          line: 26,\n          column: 50\n        },\n        end: {\n          line: 46,\n          column: 4\n        }\n      },\n      \"12\": {\n        start: {\n          line: 27,\n          column: 28\n        },\n        end: {\n          line: 27,\n          column: 63\n        }\n      },\n      \"13\": {\n        start: {\n          line: 28,\n          column: 4\n        },\n        end: {\n          line: 30,\n          column: 5\n        }\n      },\n      \"14\": {\n        start: {\n          line: 29,\n          column: 6\n        },\n        end: {\n          line: 29,\n          column: 29\n        }\n      },\n      \"15\": {\n        start: {\n          line: 31,\n          column: 20\n        },\n        end: {\n          line: 31,\n          column: 45\n        }\n      },\n      \"16\": {\n        start: {\n          line: 33,\n          column: 4\n        },\n        end: {\n          line: 35,\n          column: 5\n        }\n      },\n      \"17\": {\n        start: {\n          line: 34,\n          column: 6\n        },\n        end: {\n          line: 34,\n          column: 53\n        }\n      },\n      \"18\": {\n        start: {\n          line: 37,\n          column: 18\n        },\n        end: {\n          line: 42,\n          column: 13\n        }\n      },\n      \"19\": {\n        start: {\n          line: 43,\n          column: 30\n        },\n        end: {\n          line: 43,\n          column: 77\n        }\n      },\n      \"20\": {\n        start: {\n          line: 45,\n          column: 4\n        },\n        end: {\n          line: 45,\n          column: 40\n        }\n      },\n      \"21\": {\n        start: {\n          line: 48,\n          column: 28\n        },\n        end: {\n          line: 50,\n          column: 4\n        }\n      },\n      \"22\": {\n        start: {\n          line: 52,\n          column: 17\n        },\n        end: {\n          line: 52,\n          column: 38\n        }\n      },\n      \"23\": {\n        start: {\n          line: 52,\n          column: 23\n        },\n        end: {\n          line: 52,\n          column: 38\n        }\n      },\n      \"24\": {\n        start: {\n          line: 54,\n          column: 2\n        },\n        end: {\n          line: 100,\n          column: 4\n        }\n      },\n      \"25\": {\n        start: {\n          line: 77,\n          column: 37\n        },\n        end: {\n          line: 77,\n          column: 69\n        }\n      },\n      \"26\": {\n        start: {\n          line: 86,\n          column: 16\n        },\n        end: {\n          line: 91,\n          column: 18\n        }\n      }\n    },\n    fnMap: {\n      \"0\": {\n        name: \"(anonymous_0)\",\n        decl: {\n          start: {\n            line: 10,\n            column: 22\n          },\n          end: {\n            line: 10,\n            column: 23\n          }\n        },\n        loc: {\n          start: {\n            line: 11,\n            column: 2\n          },\n          end: {\n            line: 11,\n            column: 52\n          }\n        },\n        line: 11\n      },\n      \"1\": {\n        name: \"(anonymous_1)\",\n        decl: {\n          start: {\n            line: 13,\n            column: 19\n          },\n          end: {\n            line: 13,\n            column: 20\n          }\n        },\n        loc: {\n          start: {\n            line: 13,\n            column: 32\n          },\n          end: {\n            line: 13,\n            column: 64\n          }\n        },\n        line: 13\n      },\n      \"2\": {\n        name: \"(anonymous_2)\",\n        decl: {\n          start: {\n            line: 15,\n            column: 19\n          },\n          end: {\n            line: 15,\n            column: 20\n          }\n        },\n        loc: {\n          start: {\n            line: 15,\n            column: 25\n          },\n          end: {\n            line: 101,\n            column: 1\n          }\n        },\n        line: 15\n      },\n      \"3\": {\n        name: \"(anonymous_3)\",\n        decl: {\n          start: {\n            line: 16,\n            column: 26\n          },\n          end: {\n            line: 16,\n            column: 27\n          }\n        },\n        loc: {\n          start: {\n            line: 16,\n            column: 32\n          },\n          end: {\n            line: 16,\n            column: 45\n          }\n        },\n        line: 16\n      },\n      \"4\": {\n        name: \"(anonymous_4)\",\n        decl: {\n          start: {\n            line: 26,\n            column: 61\n          },\n          end: {\n            line: 26,\n            column: 62\n          }\n        },\n        loc: {\n          start: {\n            line: 26,\n            column: 67\n          },\n          end: {\n            line: 46,\n            column: 3\n          }\n        },\n        line: 26\n      },\n      \"5\": {\n        name: \"(anonymous_5)\",\n        decl: {\n          start: {\n            line: 52,\n            column: 17\n          },\n          end: {\n            line: 52,\n            column: 18\n          }\n        },\n        loc: {\n          start: {\n            line: 52,\n            column: 23\n          },\n          end: {\n            line: 52,\n            column: 38\n          }\n        },\n        line: 52\n      },\n      \"6\": {\n        name: \"(anonymous_6)\",\n        decl: {\n          start: {\n            line: 77,\n            column: 31\n          },\n          end: {\n            line: 77,\n            column: 32\n          }\n        },\n        loc: {\n          start: {\n            line: 77,\n            column: 37\n          },\n          end: {\n            line: 77,\n            column: 69\n          }\n        },\n        line: 77\n      },\n      \"7\": {\n        name: \"(anonymous_7)\",\n        decl: {\n          start: {\n            line: 85,\n            column: 25\n          },\n          end: {\n            line: 85,\n            column: 26\n          }\n        },\n        loc: {\n          start: {\n            line: 86,\n            column: 16\n          },\n          end: {\n            line: 91,\n            column: 18\n          }\n        },\n        line: 86\n      }\n    },\n    branchMap: {\n      \"0\": {\n        loc: {\n          start: {\n            line: 22,\n            column: 21\n          },\n          end: {\n            line: 22,\n            column: 53\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 22,\n            column: 28\n          },\n          end: {\n            line: 22,\n            column: 48\n          }\n        }, {\n          start: {\n            line: 22,\n            column: 51\n          },\n          end: {\n            line: 22,\n            column: 53\n          }\n        }],\n        line: 22\n      },\n      \"1\": {\n        loc: {\n          start: {\n            line: 28,\n            column: 4\n          },\n          end: {\n            line: 30,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 28,\n            column: 4\n          },\n          end: {\n            line: 30,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 28,\n            column: 4\n          },\n          end: {\n            line: 30,\n            column: 5\n          }\n        }],\n        line: 28\n      },\n      \"2\": {\n        loc: {\n          start: {\n            line: 33,\n            column: 4\n          },\n          end: {\n            line: 35,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 33,\n            column: 4\n          },\n          end: {\n            line: 35,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 33,\n            column: 4\n          },\n          end: {\n            line: 35,\n            column: 5\n          }\n        }],\n        line: 33\n      },\n      \"3\": {\n        loc: {\n          start: {\n            line: 38,\n            column: 6\n          },\n          end: {\n            line: 38,\n            column: 52\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 38,\n            column: 22\n          },\n          end: {\n            line: 38,\n            column: 39\n          }\n        }, {\n          start: {\n            line: 38,\n            column: 42\n          },\n          end: {\n            line: 38,\n            column: 52\n          }\n        }],\n        line: 38\n      },\n      \"4\": {\n        loc: {\n          start: {\n            line: 49,\n            column: 4\n          },\n          end: {\n            line: 49,\n            column: 54\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 49,\n            column: 24\n          },\n          end: {\n            line: 49,\n            column: 49\n          }\n        }, {\n          start: {\n            line: 49,\n            column: 52\n          },\n          end: {\n            line: 49,\n            column: 54\n          }\n        }],\n        line: 49\n      },\n      \"5\": {\n        loc: {\n          start: {\n            line: 68,\n            column: 9\n          },\n          end: {\n            line: 97,\n            column: 9\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 69,\n            column: 10\n          },\n          end: {\n            line: 94,\n            column: 21\n          }\n        }, {\n          start: {\n            line: 96,\n            column: 10\n          },\n          end: {\n            line: 96,\n            column: 23\n          }\n        }],\n        line: 68\n      },\n      \"6\": {\n        loc: {\n          start: {\n            line: 78,\n            column: 17\n          },\n          end: {\n            line: 78,\n            column: 62\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 78,\n            column: 33\n          },\n          end: {\n            line: 78,\n            column: 43\n          }\n        }, {\n          start: {\n            line: 78,\n            column: 46\n          },\n          end: {\n            line: 78,\n            column: 62\n          }\n        }],\n        line: 78\n      },\n      \"7\": {\n        loc: {\n          start: {\n            line: 82,\n            column: 13\n          },\n          end: {\n            line: 82,\n            column: 67\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 82,\n            column: 13\n          },\n          end: {\n            line: 82,\n            column: 22\n          }\n        }, {\n          start: {\n            line: 82,\n            column: 26\n          },\n          end: {\n            line: 82,\n            column: 67\n          }\n        }],\n        line: 82\n      }\n    },\n    s: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0,\n      \"19\": 0,\n      \"20\": 0,\n      \"21\": 0,\n      \"22\": 0,\n      \"23\": 0,\n      \"24\": 0,\n      \"25\": 0,\n      \"26\": 0\n    },\n    f: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0\n    },\n    b: {\n      \"0\": [0, 0],\n      \"1\": [0, 0],\n      \"2\": [0, 0],\n      \"3\": [0, 0],\n      \"4\": [0, 0],\n      \"5\": [0, 0],\n      \"6\": [0, 0],\n      \"7\": [0, 0]\n    },\n    _coverageSchema: \"1a1c01bbd47fc00a2c39e90264f33305004495a9\",\n    hash: \"266607952ceb078c700123762b57b0b918f56a03\"\n  };\n  var coverage = global[gcv] || (global[gcv] = {});\n\n  if (!coverage[path] || coverage[path].hash !== hash) {\n    coverage[path] = coverageData;\n  }\n\n  var actualCoverage = coverage[path];\n  {\n    // @ts-ignore\n    cov_4oh2l4gaa = function () {\n      return actualCoverage;\n    };\n  }\n  return actualCoverage;\n}\n\ncov_4oh2l4gaa();\ncov_4oh2l4gaa().s[0]++;\n\nvar toggleChecked = function (_ref) {\n  var _id = _ref._id,\n      isChecked = _ref.isChecked;\n  cov_4oh2l4gaa().f[0]++;\n  cov_4oh2l4gaa().s[1]++;\n  return Meteor.call('tasks.setIsChecked', _id, !isChecked);\n};\n\ncov_4oh2l4gaa().s[2]++;\n\nvar deleteTask = function (_ref2) {\n  var _id = _ref2._id;\n  cov_4oh2l4gaa().f[1]++;\n  cov_4oh2l4gaa().s[3]++;\n  return Meteor.call('tasks.remove', _id);\n};\n\ncov_4oh2l4gaa().s[4]++;\n\nvar App = function () {\n  cov_4oh2l4gaa().f[2]++;\n  var user = (cov_4oh2l4gaa().s[5]++, useTracker(function () {\n    cov_4oh2l4gaa().f[3]++;\n    cov_4oh2l4gaa().s[6]++;\n    return Meteor.user();\n  }));\n\n  var _ref3 = (cov_4oh2l4gaa().s[7]++, useState(false)),\n      _ref4 = _slicedToArray(_ref3, 2),\n      hideCompleted = _ref4[0],\n      setHideCompleted = _ref4[1];\n\n  var hideCompletedFilter = (cov_4oh2l4gaa().s[8]++, {\n    isChecked: {\n      $ne: true\n    }\n  });\n  var userFilter = (cov_4oh2l4gaa().s[9]++, user ? (cov_4oh2l4gaa().b[0][0]++, {\n    userId: user._id\n  }) : (cov_4oh2l4gaa().b[0][1]++, {}));\n  var pendingOnlyFilter = (cov_4oh2l4gaa().s[10]++, _objectSpread(_objectSpread({}, hideCompletedFilter), userFilter));\n\n  var _ref5 = (cov_4oh2l4gaa().s[11]++, useTracker(function () {\n    cov_4oh2l4gaa().f[4]++;\n    var noDataAvailable = (cov_4oh2l4gaa().s[12]++, {\n      tasks: [],\n      pendingTasksCount: 0\n    });\n    cov_4oh2l4gaa().s[13]++;\n\n    if (!Meteor.user()) {\n      cov_4oh2l4gaa().b[1][0]++;\n      cov_4oh2l4gaa().s[14]++;\n      return noDataAvailable;\n    } else {\n      cov_4oh2l4gaa().b[1][1]++;\n    }\n\n    var handler = (cov_4oh2l4gaa().s[15]++, Meteor.subscribe('tasks'));\n    cov_4oh2l4gaa().s[16]++;\n\n    if (!handler.ready()) {\n      cov_4oh2l4gaa().b[2][0]++;\n      cov_4oh2l4gaa().s[17]++;\n      return _objectSpread(_objectSpread({}, noDataAvailable), {}, {\n        isLoading: true\n      });\n    } else {\n      cov_4oh2l4gaa().b[2][1]++;\n    }\n\n    var tasks = (cov_4oh2l4gaa().s[18]++, TasksCollection.find(hideCompleted ? (cov_4oh2l4gaa().b[3][0]++, pendingOnlyFilter) : (cov_4oh2l4gaa().b[3][1]++, userFilter), {\n      sort: {\n        createdAt: -1\n      }\n    }).fetch());\n    var pendingTasksCount = (cov_4oh2l4gaa().s[19]++, TasksCollection.find(pendingOnlyFilter).count());\n    cov_4oh2l4gaa().s[20]++;\n    return {\n      tasks: tasks,\n      pendingTasksCount: pendingTasksCount\n    };\n  })),\n      tasks = _ref5.tasks,\n      pendingTasksCount = _ref5.pendingTasksCount,\n      isLoading = _ref5.isLoading;\n\n  var pendingTasksTitle = (cov_4oh2l4gaa().s[21]++, \"\" + (pendingTasksCount ? (cov_4oh2l4gaa().b[4][0]++, \" (\" + pendingTasksCount + \")\") : (cov_4oh2l4gaa().b[4][1]++, '')));\n  cov_4oh2l4gaa().s[22]++;\n\n  var logout = function () {\n    cov_4oh2l4gaa().f[5]++;\n    cov_4oh2l4gaa().s[23]++;\n    return Meteor.logout();\n  };\n\n  cov_4oh2l4gaa().s[24]++;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app\"\n  }, /*#__PURE__*/React.createElement(\"header\", null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app-bar\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app-header\"\n  }, /*#__PURE__*/React.createElement(\"h1\", null, \"\\uD83D\\uDCDD\\uFE0F To Do List\", /*#__PURE__*/React.createElement(\"span\", testProp(COUNTER), \" \", pendingTasksTitle, \" \"))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main\"\n  }, user ? (cov_4oh2l4gaa().b[5][0]++, /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user\",\n    onClick: logout\n  }, user.username, \" \\uD83D\\uDEAA\"), /*#__PURE__*/React.createElement(TaskForm, null), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter\"\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function () {\n      cov_4oh2l4gaa().f[6]++;\n      cov_4oh2l4gaa().s[25]++;\n      return setHideCompleted(!hideCompleted);\n    }\n  }, hideCompleted ? (cov_4oh2l4gaa().b[6][0]++, 'Show All') : (cov_4oh2l4gaa().b[6][1]++, 'Hide Completed'))), (cov_4oh2l4gaa().b[7][0]++, isLoading) && (cov_4oh2l4gaa().b[7][1]++, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loading\"\n  }, \"loading...\")), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"tasks\"\n  }, tasks.map(function (task) {\n    cov_4oh2l4gaa().f[7]++;\n    cov_4oh2l4gaa().s[26]++;\n    return /*#__PURE__*/React.createElement(Task, {\n      key: task._id,\n      task: task,\n      onCheckboxClick: toggleChecked,\n      onDeleteClick: deleteTask\n    });\n  })))) : (cov_4oh2l4gaa().b[5][1]++, /*#__PURE__*/React.createElement(LoginForm, null))));\n};","map":{"version":3,"sources":["imports/ui/App.js"],"names":["toggleChecked","isChecked","deleteTask","_id","App","user","useTracker","useState","hideCompletedFilter","$ne","userFilter","userId","pendingOnlyFilter","isLoading","noDataAvailable","tasks","pendingTasksCount","Meteor","handler","hideCompleted","sort","createdAt","TasksCollection","pendingTasksTitle","logout","testProp","task"],"mappings":"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","sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport React, { useState, Fragment } from 'react';\nimport { useTracker } from 'meteor/react-meteor-data';\nimport { TasksCollection } from '/imports/db/TasksCollection';\nimport { Task } from './Task';\nimport { TaskForm } from './TaskForm';\nimport { LoginForm } from './LoginForm';\nimport { testProp,COUNTER } from '../testIds';\n\nconst toggleChecked = ({ _id, isChecked }) =>\n  Meteor.call('tasks.setIsChecked', _id, !isChecked);\n\nconst deleteTask = ({ _id }) => Meteor.call('tasks.remove', _id);\n\nexport const App = () => {\n  const user = useTracker(() => Meteor.user());\n\n  const [hideCompleted, setHideCompleted] = useState(false);\n\n  const hideCompletedFilter = { isChecked: { $ne: true } };\n\n  const userFilter = user ? { userId: user._id } : {};\n\n  const pendingOnlyFilter = { ...hideCompletedFilter, ...userFilter };\n\n  const { tasks, pendingTasksCount, isLoading } = useTracker(() => {\n    const noDataAvailable = { tasks: [], pendingTasksCount: 0 };\n    if (!Meteor.user()) {\n      return noDataAvailable;\n    }\n    const handler = Meteor.subscribe('tasks');\n\n    if (!handler.ready()) {\n      return { ...noDataAvailable, isLoading: true };\n    }\n\n    const tasks = TasksCollection.find(\n      hideCompleted ? pendingOnlyFilter : userFilter,\n      {\n        sort: { createdAt: -1 },\n      }\n    ).fetch();\n    const pendingTasksCount = TasksCollection.find(pendingOnlyFilter).count();\n\n    return { tasks, pendingTasksCount };\n  });\n\n  const pendingTasksTitle = `${\n    pendingTasksCount ? ` (${pendingTasksCount})` : ''\n  }`;\n\n  const logout = () => Meteor.logout();\n\n  return (\n    <div className=\"app\">\n      <header>\n        <div className=\"app-bar\">\n          <div className=\"app-header\">\n            <h1>\n              ğŸ“ï¸ To Do List\n              <span {...testProp(COUNTER)}> {pendingTasksTitle} </span>\n            </h1>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"main\">\n        {user ? (\n          <Fragment>\n            <div className=\"user\" onClick={logout}>\n              {user.username} ğŸšª\n            </div>\n\n            <TaskForm />\n\n            <div className=\"filter\">\n              <button onClick={() => setHideCompleted(!hideCompleted)}>\n                {hideCompleted ? 'Show All' : 'Hide Completed'}\n              </button>\n            </div>\n\n            {isLoading && <div className=\"loading\">loading...</div>}\n\n            <ul className=\"tasks\">\n              {tasks.map((task) => (\n                <Task\n                  key={task._id}\n                  task={task}\n                  onCheckboxClick={toggleChecked}\n                  onDeleteClick={deleteTask}\n                />\n              ))}\n            </ul>\n          </Fragment>\n        ) : (\n          <LoginForm />\n        )}\n      </div>\n    </div>\n  );\n};\n"]},"sourceType":"module","hash":"076216a1f84c4029097e09e11169b76a1fb12e71"}
